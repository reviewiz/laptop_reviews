{% extends 'base.html' %}
<!-- page title-->
{% block title %}
  Laptop Reviews
{% endblock %}
{% block page_heading%}
{% endblock %}
{% block content %}
<div class="main_div">
  <br>
  <h2 class="message">Top Products</h1>
  {% for i in data%}
  <br>
  <div class="product-container"> 
    <div class="image_holder">
    <a href="{%url 'Product'%}?code={{i.Product_code}}" style="color: black">
      <img class="Product_image" src="{{i.Images}}" alt="Laptop"></img>
    </a>
    </div>
    <div class="details_holder">
    <a class="product_link" href="./Product/?code={{i.Product_code}}">
      <span class="details"><h4>{{i.Product_name|truncatechars:33}}</h4></span>
      <br>
      <span class="details"><h5>Price : &#8377; {{i.Price}}</h5></span>
      <br>
      <span class="details"><h5>Rating :{{i.Rating}} out of 5 ({{i.number_of_reveiws}})</h5></span>
    </a>
    </div>
  </div>
  {% empty %}
    <div class="product-container"><h3>Well this is  disappointing isn't it?</h3><br></div>
  {% endfor %}
  <a class="product_link" href="./search">
    {% if data%}
      <br>
      <div class="product-container">
        <h4>Psst! Find your favourite laptop with Advanced Search!</h4><br>
      </div>
      <br>
      </a>
    {% else %}
    <br>
    <a class="product_link" href="./search">
      <div class="product-container"><h4>Please try advance search!</h4><br></div></a>
    </a>
    <br>
    {% endif %}
</div>
{% endblock %}
{% block style %}
<style>
  @media (prefers-color-scheme: light) {
    .main_div{
      display:flex;
      flex-direction:column;
      color:black;
      justify-content:center;
      background-color: #eeeeee9e;
    }
    .product-container {
      display: flex;
      background-color: #e1e1e1de;
      justify-content:center;
      margin:auto;
      width:90%;
    }
    
  }
        /* Dark mode */
  @media (prefers-color-scheme: dark) {
    .main_div{
      display:flex;
      flex-direction:column;
      justify-content:center;
      color:white;
      background-color: #3333339e;
    }
    .product-container {
      display: flex;
      background-color: #4c4c4c9e;
      justify-content:center;
      margin:auto;
      width:90%;
    }
  }
  .message{
    text-align: center;
  }
  .image_holder {
    padding-top:2%;
    padding-bottom:2%;
    color: white;
    width: 30%;
    margin: auto;
  }
  .details_holder {
    padding-left:10%;
    width: 60%;
    margin: auto;
    text-align: left;
  }
  .Product_image{
      height: 280px;
      width: 340px;
  }
  @media all and (max-width: 885px){
    .Product_image{
      height: 230px;
      width: 280px;
    }
  }
  @media all and (max-width: 500px){
    .Product_image{
      height: 230px;
      width: 280px;
    }
    .product-container {
      flex-direction:column;
      justify-content:center;
      
    }
    .image_holder {
      display:flex;
      justify-content:center;
      width:100%;
      padding-top:5%;
      padding-bottom:3%;
    }
    .details_holder {
      padding-left:5%;
      padding-right:5%;
      padding-top:5%;
      width: 100%;
      margin: auto;
      text-align: left;
    }
  }
  @media all and (max-width: 330px){
    .Product_image{
      height: 200px;
      width: 240px;
    }
  }
</style>
{% endblock %}